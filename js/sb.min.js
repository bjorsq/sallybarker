document.documentElement.className="js";var slidetimer=null,gallerytimer=null;jQuery(function(e){if(e(".slideshow").length){e(".slideshow").each(function(g){var k=e(this),m=k.attr("id"),j,h,l;if(slidesettings[m]&&(slidesettings[m].nav||slidesettings[m].caption)){e(".slideshow-caption",this).show();if(!slidesettings[m].caption){e(".slideshow-captiontext").hide()}}if(slides[m]&&slides[m].length>1){j=slidesettings[m].interval||5000;h=e("img:first",k);e.data(k[0],"slideData",{currentSlide:0});k.css({width:h.attr("width")+"px",height:h.attr("height")+"px","float":"none",clear:"left"});h.css({position:"absolute",left:0,top:0});slidetimer=setTimeout(function(){d(m)},j)}if(slidesettings[m]&&slidesettings[m].nav){if(slides[m]&&slides[m].length>1){l=e("<div/>").addClass("slideshow-controls");for(i=0;i<slides[m].length;i++){l.append('<a rel="'+i+'" href="#'+i+'" id="slideshow-'+m+"slide"+i+'" class="slideshow-link'+((i==e.data(k[0],"slideData").currentSlide)?" currentslide":"")+'">&bull;</a>')}e(".slideshow-caption",this).append(l)}}})}function d(k){var m=k,h=e("#"+m),p=slides[m],o=e.data(h[0],"slideData").currentSlide,g=((o+1)>=p.length)?0:(o+1),j=slidesettings[m].interval||5000,n=slidesettings[m].transition||500,l=new Image();l.onload=function(){var q;e('<img src="'+p[g].src+'" title="'+p[g].title+'" alt="'+p[g].title+'" />').css({opacity:0,position:"absolute",left:0,top:0}).appendTo(h);if(n==0){e("img:last",h).css({opacity:1});e("img:first",h).remove();e.data(h[0],"slideData",{currentSlide:g});slidetimer=setTimeout(function(){d(m,j,n)},j)}else{e("img:first",h).fadeOut(n);e("img:last",h).animate({opacity:1},n,function(){e("img:first",h).remove();if(e.browser.msie){this.style.removeAttribute("filter")}e.data(h[0],"slideData",{currentSlide:g});slidetimer=setTimeout(function(){d(m,j,n)},j)})}if(slidesettings[m]&&slidesettings[m].caption){q=(slidesettings[m]&&slidesettings[m].usetitle)?"<h3>"+p[g].title+"</h3>"+p[g].caption:p[g].caption;if(n==0){e(".slideshow-captiontext",h).html(q)}else{e(".slideshow-captiontext",h).fadeOut((n/2),function(){e(this).html(q);if(e.trim(q)!==""){e(this).fadeIn((n/2))}})}}if(slidesettings[m]&&slidesettings[m].nav){e(".slideshow-link",h).removeClass("currentslide");e("#slideshow-"+m+"slide"+g).addClass("currentslide")}};l.src=p[g].src}e(".slideshow-link").click(function(h){clearTimeout(slidetimer);var g=e(this).parents(".slideshow"),k=g.attr("id"),j=parseInt(e(this).attr("rel"));e.data(g[0],"slideData",{currentSlide:((j==0)?(slides[k].length-1):(j-1))});d(k);h.preventDefault();return false});var a=true,f=function(u){c(u);var p=u.cid,n=u.loop,l=u.img_idx,k=e("#"+u.cid),g=e(".figure",k),r=galleryimages[p],q=e.data(k[0],"galleryData").currentImage,h=((q+1)>=r.length)?0:(q+1),j=gallerysettings[p].interval||5000,o=gallerysettings[p].transition||500,m=new Image();c(e.data(k[0],"galleryData").currentImage);c("preparing to load image");c("image index: "+l);if(l===false){l=h;c("image index set to next available: "+h)}if(r[l]){c("loading image:"+r[l].full_src);m.onload=function(){c("image loaded - adding slide and fading in");e('<img src="'+r[l].full_src+'" title="'+r[l].title+'" alt="'+r[l].title+'" data-caption="'+r[l].caption+'" />').css({opacity:0,position:"absolute",left:0,top:0}).appendTo(g);e.data(k[0],"galleryData",{currentImage:l});if(o==0){e("img:last",g).css({opacity:1,position:"relative"});e("img:first",g).remove();c("fade in complete in 0s (no transition)");if(n){c("looping loadImage for next image in sequence");gallerytimer=setTimeout(function(){f({cid:p,img_idx:false,loop:true})},j)}}else{e("img:last",g).animate({opacity:1},o,function(){e("img:first",g).remove();e(this).css({position:"relative"});if(e.browser.msie){this.style.removeAttribute("filter")}if(n){gallerytimer=setTimeout(function(){f({cid:p,img_idx:false,loop:true})},j)}})}e(".thumb-link",k).removeClass("active");e(".thumb-link",k).eq(l).addClass("active");if(gallerysettings[p]&&gallerysettings[p].caption){if(o==0){e(".figcaption",k).html(r[l].caption)}else{e(".figcaption",k).fadeOut((o/2),function(){e(this).html(r[l].caption);if(e.trim(r[l].caption)!==""){e(this).fadeIn((o/2))}})}}b(p,l)};m.src=r[l].full_src}},b=function(o,k){c("reorganiseThumbnails");var h=e("#"+o),r=galleryimages[o],m=e(".thumbnails ul",h),q=(m.width()/r.length),l=h.width(),n=m.width(),j=0,p=((k-0.5)*q),g=(l/2);c("thumbnail strip width: "+n+"\nthumbnail container width: "+l+"\nimage width: "+q+"\ncurrent image index: "+k+"\nactual position in strip: "+p+"\nnumber of images: "+r.length);if(n>l){c("width of thumbnails exceeds that of their container");if(p>g){c("thumbnail position is past the centre - determining if the thumbnails need to scroll");j=-((p+q)-g);if((n+j+(q/2))<l){c("setting offset so thumbnails scroll to the end");j=(l-n)+12}}else{j=0}c("offset by: "+j);if(m.css("marginLeft")!=j+"px"){c("need to scroll thumbnails (marginLeft is "+m.css("marginLeft")+")");m.animate({marginLeft:j+"px"},500,function(){c("thumbnails scrolled to new position")})}else{c("no need to scroll thumbnails (marginLeft is same as offset)")}}};if(e(".gallery").length){e(".gallery").each(function(g){var j=e(this),k=j.attr("id"),h;if(galleryimages[k]&&galleryimages[k].length>1){h=gallerysettings[k].interval||5000;e.data(j[0],"galleryData",{currentImage:0});gallerytimer=setTimeout(function(){f({cid:k,img_idx:false,loop:true})},h);e(".thumb-link",this).on("click",function(m){clearTimeout(gallerytimer);var l=e(this).parents(".gallery"),o=l.attr("id"),n=parseInt(e(this).attr("rel").substr(5));f({cid:o,img_idx:n,loop:false});m.preventDefault();return false})}else{e(".thumbnails",this).hide()}})}e("#imageCarousel").carousel({interval:9000});function c(g){if(window.console&&a){console.log(g)}}});!function(e){var b="[data-toggle=dropdown]",a=function(g){var f=e(g).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){f.parent().removeClass("open")})};a.prototype={constructor:a,toggle:function(j){var h=e(this),g,f;if(h.is(".disabled, :disabled")){return}g=d(h);f=g.hasClass("open");c();if(!f){g.toggleClass("open");h.focus()}return false},keydown:function(k){var j,l,h,g,f;if(!/(38|40|27)/.test(k.keyCode)){return}j=e(this);k.preventDefault();k.stopPropagation();if(j.is(".disabled, :disabled")){return}h=d(j);g=h.hasClass("open");if(!g||(g&&k.keyCode==27)){return j.click()}l=e("[role=menu] li:not(.divider) a",h);if(!l.length){return}f=l.index(l.filter(":focus"));if(k.keyCode==38&&f>0){f--}if(k.keyCode==40&&f<l.length-1){f++}if(!~f){f=0}l.eq(f).focus()}};function c(){d(e(b)).removeClass("open")}function d(h){var f=h.attr("data-target"),g;if(!f){f=h.attr("href");f=f&&/#/.test(f)&&f.replace(/.*(?=#[^\s]*$)/,"")}g=e(f);g.length||(g=h.parent());return g}e.fn.dropdown=function(f){return this.each(function(){var h=e(this),g=h.data("dropdown");if(!g){h.data("dropdown",(g=new a(this)))}if(typeof f=="string"){g[f].call(h)}})};e.fn.dropdown.Constructor=a;e(function(){e("html").on("click.dropdown.data-api touchstart.dropdown.data-api",c);e("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(f){f.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",b,a.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",b+", [role=menu]",a.prototype.keydown)})}(window.jQuery);!function(a){var b=function(d,c){this.$element=a(d);this.options=a.extend({},a.fn.collapse.defaults,c);if(this.options.parent){this.$parent=a(this.options.parent)}this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var c=this.$element.hasClass("width");return c?"width":"height"},show:function(){var f,c,e,d;if(this.transitioning){return}f=this.dimension();c=a.camelCase(["scroll",f].join("-"));e=this.$parent&&this.$parent.find("> .accordion-group > .in");if(e&&e.length){d=e.data("collapse");if(d&&d.transitioning){return}e.collapse("hide");d||e.data("collapse",null)}this.$element[f](0);this.transition("addClass",a.Event("show"),"shown");a.support.transition&&this.$element[f](this.$element[0][c])},hide:function(){var c;if(this.transitioning){return}c=this.dimension();this.reset(this.$element[c]());this.transition("removeClass",a.Event("hide"),"hidden");this.$element[c](0)},reset:function(c){var d=this.dimension();this.$element.removeClass("collapse")[d](c||"auto")[0].offsetWidth;this.$element[c!==null?"addClass":"removeClass"]("collapse");return this},transition:function(g,d,e){var f=this,c=function(){if(d.type=="show"){f.reset()}f.transitioning=0;f.$element.trigger(e)};this.$element.trigger(d);if(d.isDefaultPrevented()){return}this.transitioning=1;this.$element[g]("in");a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,c):c()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};a.fn.collapse=function(c){return this.each(function(){var f=a(this),e=f.data("collapse"),d=typeof c=="object"&&c;if(!e){f.data("collapse",(e=new b(this,d)))}if(typeof c=="string"){e[c]()}})};a.fn.collapse.defaults={toggle:true};a.fn.collapse.Constructor=b;a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(h){var g=a(this),c,f=g.attr("data-target")||h.preventDefault()||(c=g.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),d=a(f).data("collapse")?"toggle":g.data();g[a(f).hasClass("in")?"addClass":"removeClass"]("collapsed");a(f).collapse(d)})})}(window.jQuery);!function(a){a(function(){a.support.transition=(function(){var b=(function(){var e=document.createElement("bootstrap"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in d){if(e.style[c]!==undefined){return d[c]}}}());return b&&{end:b}})()})}(window.jQuery);!function(a){var b=function(d,c){this.$element=a(d);this.options=c;this.options.slide&&this.slide(this.options.slide);this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(c){if(!c){this.paused=false}this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this},to:function(g){var c=this.$element.find(".item.active"),d=c.parent().children(),e=d.index(c),f=this;if(g>(d.length-1)||g<0){return}if(this.sliding){return this.$element.one("slid",function(){f.to(g)})}if(e==g){return this.pause().cycle()}return this.slide(g>e?"next":"prev",a(d[g]))},pause:function(c){if(!c){this.paused=true}if(this.$element.find(".next, .prev").length&&a.support.transition.end){this.$element.trigger(a.support.transition.end);this.cycle()}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(k,d){var m=this.$element.find(".item.active"),c=d||m[k](),j=this.interval,l=k=="next"?"left":"right",f=k=="next"?"first":"last",g=this,h=a.Event("slide",{relatedTarget:c[0]});this.sliding=true;j&&this.pause();c=c.length?c:this.$element.find(".item")[f]();if(c.hasClass("active")){return}if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(h);if(h.isDefaultPrevented()){return}c.addClass(k);c[0].offsetWidth;m.addClass(l);c.addClass(l);this.$element.one(a.support.transition.end,function(){c.removeClass([k,l].join(" ")).addClass("active");m.removeClass(["active",l].join(" "));g.sliding=false;setTimeout(function(){g.$element.trigger("slid")},0)})}else{this.$element.trigger(h);if(h.isDefaultPrevented()){return}m.removeClass("active");c.addClass("active");this.sliding=false;this.$element.trigger("slid")}j&&this.cycle();return this}};a.fn.carousel=function(c){return this.each(function(){var g=a(this),f=g.data("carousel"),d=a.extend({},a.fn.carousel.defaults,typeof c=="object"&&c),e=typeof c=="string"?c:d.slide;if(!f){g.data("carousel",(f=new b(this,d)))}if(typeof c=="number"){f.to(c)}else{if(e){f[e]()}else{if(d.interval){f.cycle()}}}})};a.fn.carousel.defaults={interval:5000,pause:"hover"};a.fn.carousel.Constructor=b;a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(h){var g=a(this),d,c=a(g.attr("data-target")||(d=g.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=!c.data("modal")&&a.extend({},c.data(),g.data());c.carousel(f);h.preventDefault()})})}(window.jQuery);