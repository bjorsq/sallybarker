document.documentElement.className="js";var slidetimer=null,gallerytimer=null;jQuery(function(a){if(a(".slideshow").length){a(".slideshow").each(function(k){var h=a(this),j=h.attr("id"),m,l,g;if(slidesettings[j]&&(slidesettings[j].nav||slidesettings[j].caption)){a(".slideshow-caption",this).show();if(!slidesettings[j].caption){a(".slideshow-captiontext").hide()}}if(slides[j]&&slides[j].length>1){m=slidesettings[j].interval||5000;l=a("img:first",h);a.data(h[0],"slideData",{currentSlide:0});h.css({width:l.attr("width")+"px",height:l.attr("height")+"px","float":"none",clear:"left"});l.css({position:"absolute",left:0,top:0});slidetimer=setTimeout(function(){f(j)},m)}if(slidesettings[j]&&slidesettings[j].nav){if(slides[j]&&slides[j].length>1){g=a("<div/>").addClass("slideshow-controls");for(i=0;i<slides[j].length;i++){g.append('<a rel="'+i+'" href="#'+i+'" id="slideshow-'+j+"slide"+i+'" class="slideshow-link'+((i==a.data(h[0],"slideData").currentSlide)?" currentslide":"")+'">&bull;</a>')}a(".slideshow-caption",this).append(g)}}})}function f(k){var g=k,n=a("#"+g),h=slides[g],l=a.data(n[0],"slideData").currentSlide,o=((l+1)>=h.length)?0:(l+1),p=slidesettings[g].interval||5000,j=slidesettings[g].transition||500,m=new Image();m.onload=function(){var q;a('<img src="'+h[o].src+'" title="'+h[o].title+'" alt="'+h[o].title+'" />').css({opacity:0,position:"absolute",left:0,top:0}).appendTo(n);if(j==0){a("img:last",n).css({opacity:1});a("img:first",n).remove();a.data(n[0],"slideData",{currentSlide:o});slidetimer=setTimeout(function(){f(g,p,j)},p)}else{a("img:first",n).fadeOut(j);a("img:last",n).animate({opacity:1},j,function(){a("img:first",n).remove();if(a.browser.msie){this.style.removeAttribute("filter")}a.data(n[0],"slideData",{currentSlide:o});slidetimer=setTimeout(function(){f(g,p,j)},p)})}if(slidesettings[g]&&slidesettings[g].caption){q=(slidesettings[g]&&slidesettings[g].usetitle)?"<h3>"+h[o].title+"</h3>"+h[o].caption:h[o].caption;if(j==0){a(".slideshow-captiontext",n).html(q)}else{a(".slideshow-captiontext",n).fadeOut((j/2),function(){a(this).html(q);if(a.trim(q)!==""){a(this).fadeIn((j/2))}})}}if(slidesettings[g]&&slidesettings[g].nav){a(".slideshow-link",n).removeClass("currentslide");a("#slideshow-"+g+"slide"+o).addClass("currentslide")}};m.src=h[o].src}a(".slideshow-link").click(function(g){clearTimeout(slidetimer);var h=a(this).parents(".slideshow"),k=h.attr("id"),j=parseInt(a(this).attr("rel"));a.data(h[0],"slideData",{currentSlide:((j==0)?(slides[k].length-1):(j-1))});f(k);g.preventDefault();return false});var c=true,d=function(k){b(k);var g=k.cid,l=k.loop,n=k.img_idx,r=a("#"+k.cid),h=a(".figure",r),j=galleryimages[g],o=a.data(r[0],"galleryData").currentImage,q=((o+1)>=j.length)?0:(o+1),u=gallerysettings[g].interval||5000,m=gallerysettings[g].transition||500,p=new Image();b(a.data(r[0],"galleryData").currentImage);b("preparing to load image");b("image index: "+n);if(n===false){n=q;b("image index set to next available: "+q)}if(j[n]){b("loading image:"+j[n].full_src);p.onload=function(){b("image loaded - adding slide and fading in");a('<img src="'+j[n].full_src+'" title="'+j[n].title+'" alt="'+j[n].title+'" data-caption="'+j[n].caption+'" />').css({opacity:0,position:"absolute",left:0,top:0}).appendTo(h);a.data(r[0],"galleryData",{currentImage:n});if(m==0){a("img:last",h).css({opacity:1,position:"relative"});a("img:first",h).remove();b("fade in complete in 0s (no transition)");if(l){b("looping loadImage for next image in sequence");gallerytimer=setTimeout(function(){d({cid:g,img_idx:false,loop:true})},u)}}else{a("img:last",h).animate({opacity:1},m,function(){a("img:first",h).remove();a(this).css({position:"relative"});if(a.browser.msie){this.style.removeAttribute("filter")}if(l){gallerytimer=setTimeout(function(){d({cid:g,img_idx:false,loop:true})},u)}})}a(".thumb-link",r).removeClass("active");a(".thumb-link",r).eq(n).addClass("active");if(gallerysettings[g]&&gallerysettings[g].caption){if(m==0){a(".figcaption",r).html(j[n].caption)}else{a(".figcaption",r).fadeOut((m/2),function(){a(this).html(j[n].caption);if(a.trim(j[n].caption)!==""){a(this).fadeIn((m/2))}})}}e(g,n)};p.src=j[n].full_src}},e=function(g,p){b("reorganiseThumbnails");var r=a("#"+g),h=galleryimages[g],m=a(".thumbnails ul",r),q=(m.width()/h.length),k=r.width(),n=m.width(),o=0,l=((p-0.5)*q),j=(k/2);b("thumbnail strip width: "+n+"\nthumbnail container width: "+k+"\nimage width: "+q+"\ncurrent image index: "+p+"\nactual position in strip: "+l+"\nnumber of images: "+h.length);if(n>k){b("width of thumbnails exceeds that of their container");if(l>j){b("thumbnail position is past the centre - determining if the thumbnails need to scroll");o=-((l+q)-j);if((n+o+(q/2))<k){b("setting offset so thumbnails scroll to the end");o=(k-n)+12}}else{o=0}b("offset by: "+o);if(m.css("marginLeft")!=o+"px"){b("need to scroll thumbnails (marginLeft is "+m.css("marginLeft")+")");m.animate({marginLeft:o+"px"},500,function(){b("thumbnails scrolled to new position")})}else{b("no need to scroll thumbnails (marginLeft is same as offset)")}}};if(a(".gallery").length){a(".gallery").each(function(j){var g=a(this),h=g.attr("id"),k;a(".figure",this).on({mouseenter:function(){a(".figcaption",this).fadeIn(200)},mouseleave:function(){a(".figcaption",this).fadeOut(200)}});if(galleryimages[h]&&galleryimages[h].length>1){k=gallerysettings[h].interval||5000;a.data(g[0],"galleryData",{currentImage:0});gallerytimer=setTimeout(function(){d({cid:h,img_idx:false,loop:true})},k);a(".thumb-link",this).on("click",function(l){clearTimeout(gallerytimer);var m=a(this).parents(".gallery"),o=m.attr("id"),n=parseInt(a(this).attr("rel").substr(5));d({cid:o,img_idx:n,loop:false});l.preventDefault();return false})}else{a(".thumbnails",this).hide()}})}a("#imageCarousel").carousel({interval:9000});function b(g){if(window.console&&c){console.log(g)}}});!function(a){var d="[data-toggle=dropdown]",c=function(g){var f=a(g).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){f.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(f){var g=a(this),j,h;if(g.is(".disabled, :disabled")){return}j=b(g);h=j.hasClass("open");e();if(!h){j.toggleClass("open");g.focus()}return false},keydown:function(h){var j,f,l,k,g;if(!/(38|40|27)/.test(h.keyCode)){return}j=a(this);h.preventDefault();h.stopPropagation();if(j.is(".disabled, :disabled")){return}l=b(j);k=l.hasClass("open");if(!k||(k&&h.keyCode==27)){return j.click()}f=a("[role=menu] li:not(.divider) a",l);if(!f.length){return}g=f.index(f.filter(":focus"));if(h.keyCode==38&&g>0){g--}if(h.keyCode==40&&g<f.length-1){g++}if(!~g){g=0}f.eq(g).focus()}};function e(){b(a(d)).removeClass("open")}function b(f){var g=f.attr("data-target"),h;if(!g){g=f.attr("href");g=g&&/#/.test(g)&&g.replace(/.*(?=#[^\s]*$)/,"")}h=a(g);h.length||(h=f.parent());return h}a.fn.dropdown=function(f){return this.each(function(){var g=a(this),h=g.data("dropdown");if(!h){g.data("dropdown",(h=new c(this)))}if(typeof f=="string"){h[f].call(g)}})};a.fn.dropdown.Constructor=c;a(function(){a("html").on("click.dropdown.data-api touchstart.dropdown.data-api",e);a("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(f){f.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",d,c.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",d+", [role=menu]",c.prototype.keydown)})}(window.jQuery);!function(a){var b=function(c,d){this.$element=a(c);this.options=a.extend({},a.fn.collapse.defaults,d);if(this.options.parent){this.$parent=a(this.options.parent)}this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var c=this.$element.hasClass("width");return c?"width":"height"},show:function(){var c,e,d,f;if(this.transitioning){return}c=this.dimension();e=a.camelCase(["scroll",c].join("-"));d=this.$parent&&this.$parent.find("> .accordion-group > .in");if(d&&d.length){f=d.data("collapse");if(f&&f.transitioning){return}d.collapse("hide");f||d.data("collapse",null)}this.$element[c](0);this.transition("addClass",a.Event("show"),"shown");a.support.transition&&this.$element[c](this.$element[0][e])},hide:function(){var c;if(this.transitioning){return}c=this.dimension();this.reset(this.$element[c]());this.transition("removeClass",a.Event("hide"),"hidden");this.$element[c](0)},reset:function(d){var c=this.dimension();this.$element.removeClass("collapse")[c](d||"auto")[0].offsetWidth;this.$element[d!==null?"addClass":"removeClass"]("collapse");return this},transition:function(d,f,e){var c=this,g=function(){if(f.type=="show"){c.reset()}c.transitioning=0;c.$element.trigger(e)};this.$element.trigger(f);if(f.isDefaultPrevented()){return}this.transitioning=1;this.$element[d]("in");a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,g):g()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=typeof c=="object"&&c;if(!e){d.data("collapse",(e=new b(this,f)))}if(typeof c=="string"){e[c]()}})};a.fn.collapse.defaults={toggle:true};a.fn.collapse.Constructor=b;a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(f){var h=a(this),d,c=h.attr("data-target")||f.preventDefault()||(d=h.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),g=a(c).data("collapse")?"toggle":h.data();h[a(c).hasClass("in")?"addClass":"removeClass"]("collapsed");a(c).collapse(g)})})}(window.jQuery);!function(a){a(function(){a.support.transition=(function(){var b=(function(){var d=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in e){if(d.style[c]!==undefined){return e[c]}}}());return b&&{end:b}})()})}(window.jQuery);!function(a){var b=function(c,d){this.$element=a(c);this.options=d;this.options.slide&&this.slide(this.options.slide);this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(c){if(!c){this.paused=false}this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this},to:function(f){var e=this.$element.find(".item.active"),c=e.parent().children(),g=c.index(e),d=this;if(f>(c.length-1)||f<0){return}if(this.sliding){return this.$element.one("slid",function(){d.to(f)})}if(g==f){return this.pause().cycle()}return this.slide(f>g?"next":"prev",a(c[f]))},pause:function(c){if(!c){this.paused=true}if(this.$element.find(".next, .prev").length&&a.support.transition.end){this.$element.trigger(a.support.transition.end);this.cycle()}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(l,k){var j=this.$element.find(".item.active"),c=k||j[l](),h=this.interval,f=l=="next"?"left":"right",m=l=="next"?"first":"last",d=this,g=a.Event("slide",{relatedTarget:c[0]});this.sliding=true;h&&this.pause();c=c.length?c:this.$element.find(".item")[m]();if(c.hasClass("active")){return}if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(g);if(g.isDefaultPrevented()){return}c.addClass(l);c[0].offsetWidth;j.addClass(f);c.addClass(f);this.$element.one(a.support.transition.end,function(){c.removeClass([l,f].join(" ")).addClass("active");j.removeClass(["active",f].join(" "));d.sliding=false;setTimeout(function(){d.$element.trigger("slid")},0)})}else{this.$element.trigger(g);if(g.isDefaultPrevented()){return}j.removeClass("active");c.addClass("active");this.sliding=false;this.$element.trigger("slid")}h&&this.cycle();return this}};a.fn.carousel=function(c){return this.each(function(){var d=a(this),f=d.data("carousel"),g=a.extend({},a.fn.carousel.defaults,typeof c=="object"&&c),e=typeof c=="string"?c:g.slide;if(!f){d.data("carousel",(f=new b(this,g)))}if(typeof c=="number"){f.to(c)}else{if(e){f[e]()}else{if(g.interval){f.cycle()}}}})};a.fn.carousel.defaults={interval:5000,pause:"hover"};a.fn.carousel.Constructor=b;a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(d){var f=a(this),c,g=a(f.attr("data-target")||(c=f.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),h=!g.data("modal")&&a.extend({},g.data(),f.data());g.carousel(h);d.preventDefault()})})}(window.jQuery);