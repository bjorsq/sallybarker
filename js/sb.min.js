document.documentElement.className="js";var slidetimer=null,gallerytimer=null;jQuery(function(c){if(c(".slideshow").length){c(".slideshow").each(function(e){var h=c(this),k=h.attr("id"),g,f,j;if(slidesettings[k]&&(slidesettings[k].nav||slidesettings[k].caption)){c(".slideshow-caption",this).show();if(!slidesettings[k].caption){c(".slideshow-captiontext").hide()}}if(slides[k]&&slides[k].length>1){g=slidesettings[k].interval||5000;f=c("img:first",h);c.data(h[0],"slideData",{currentSlide:0});h.css({width:f.attr("width")+"px",height:f.attr("height")+"px","float":"none",clear:"left"});f.css({position:"absolute",left:0,top:0});slidetimer=setTimeout(function(){b(k)},g)}if(slidesettings[k]&&slidesettings[k].nav){if(slides[k]&&slides[k].length>1){j=c("<div/>").addClass("slideshow-controls");for(i=0;i<slides[k].length;i++){j.append('<a rel="'+i+'" href="#'+i+'" id="slideshow-'+k+"slide"+i+'" class="slideshow-link'+((i==c.data(h[0],"slideData").currentSlide)?" currentslide":"")+'">&bull;</a>')}c(".slideshow-caption",this).append(j)}}})}function b(h){var k=h,f=c("#"+k),n=slides[k],m=c.data(f[0],"slideData").currentSlide,e=((m+1)>=n.length)?0:(m+1),g=slidesettings[k].interval||5000,l=slidesettings[k].transition||500,j=new Image();j.onload=function(){var o;c('<img src="'+n[e].src+'" title="'+n[e].title+'" alt="'+n[e].title+'" />').css({opacity:0,position:"absolute",left:0,top:0}).appendTo(f);if(l==0){c("img:last",f).css({opacity:1});c("img:first",f).remove();c.data(f[0],"slideData",{currentSlide:e});slidetimer=setTimeout(function(){b(k,g,l)},g)}else{c("img:first",f).fadeOut(l);c("img:last",f).animate({opacity:1},l,function(){c("img:first",f).remove();if(c.browser.msie){this.style.removeAttribute("filter")}c.data(f[0],"slideData",{currentSlide:e});slidetimer=setTimeout(function(){b(k,g,l)},g)})}if(slidesettings[k]&&slidesettings[k].caption){o=(slidesettings[k]&&slidesettings[k].usetitle)?"<h3>"+n[e].title+"</h3>"+n[e].caption:n[e].caption;if(l==0){c(".slideshow-captiontext",f).html(o)}else{c(".slideshow-captiontext",f).fadeOut((l/2),function(){c(this).html(o);if(c.trim(o)!==""){c(this).fadeIn((l/2))}})}}if(slidesettings[k]&&slidesettings[k].nav){c(".slideshow-link",f).removeClass("currentslide");c("#slideshow-"+k+"slide"+e).addClass("currentslide")}};j.src=n[e].src}c(".slideshow-link").click(function(g){clearTimeout(slidetimer);var f=c(this).parents(".slideshow"),j=f.attr("id"),h=parseInt(c(this).attr("rel"));c.data(f[0],"slideData",{currentSlide:((h==0)?(slides[j].length-1):(h-1))});b(j);g.preventDefault();return false});var d=function(q){console.log(q);var n=q.cid,l=q.loop,j=q.img_idx,h=c("#"+q.cid),e=c(".figure",h),p=galleryimages[n],o=c.data(h[0],"galleryData").currentImage,f=((o+1)>=p.length)?0:(o+1),g=gallerysettings[n].interval||5000,m=gallerysettings[n].transition||500,k=new Image();console.log(c.data(h[0],"galleryData").currentImage);console.log("preparing to load image");console.log("image index: "+j);if(j===false){j=f;console.log("image index set to next available: "+f)}if(p[j]){console.log("loading image:"+p[j].full_src);k.onload=function(){var r;console.log("image loaded - adding slide and fading in");c('<img src="'+p[j].full_src+'" title="'+p[j].title+'" alt="'+p[j].title+'" data-caption="'+p[j].caption+'" />').css({opacity:0,position:"absolute",left:0,top:0}).appendTo(e);c.data(h[0],"galleryData",{currentImage:j});if(m==0){c("img:last",e).css({opacity:1,position:"relative"});c("img:first",e).remove();console.log("fade in complete in 0s (no transition)");if(l){console.log("looping loadImage for next image in sequence");gallerytimer=setTimeout(function(){d({cid:n,img_idx:false,loop:true})},g)}}else{c("img:last",e).animate({opacity:1},m,function(){c("img:first",e).remove();c(this).css({position:"relative"});if(c.browser.msie){this.style.removeAttribute("filter")}if(l){gallerytimer=setTimeout(function(){d({cid:n,img_idx:false,loop:true})},g)}})}c(".thumb-link",h).removeClass("active");c(".thumb-link",h).eq(j).addClass("active");if(gallerysettings[n]&&gallerysettings[n].caption){r="<h3>"+p[j].title+"</h3><p>"+p[j].caption+"</p>";if(m==0){c(".figcaption",h).html(r)}else{c(".figcaption",h).fadeOut((m/2),function(){c(this).html(r);if(c.trim(r)!==""){c(this).fadeIn((m/2))}})}}a(n,j)};k.src=p[j].full_src}},a=function(j,g){var f=c("#"+j),e=galleryimages[j],h=c(".thumbnails ul",f);console.log(h.width());console.log(f.width());if(h.width()>f.width()){}};if(c(".gallery").length){c(".gallery").each(function(e){var g=c(this),h=g.attr("id"),f;c(".figure",this).on({mouseenter:function(){c(".figcaption",this).fadeIn(200)},mouseleave:function(){c(".figcaption",this).fadeOut(200)}});if(galleryimages[h]&&galleryimages[h].length>1){f=gallerysettings[h].interval||5000;c.data(g[0],"galleryData",{currentImage:0});gallerytimer=setTimeout(function(){d({cid:h,img_idx:false,loop:true})},f);c(".thumb-link",this).on("click",function(k){clearTimeout(gallerytimer);var j=c(this).parents(".gallery"),m=j.attr("id"),l=parseInt(c(this).attr("rel").substr(5));d({cid:m,img_idx:l,loop:false});k.preventDefault();return false})}else{c(".thumbnails",this).hide()}})}});!function(e){var b="[data-toggle=dropdown]",a=function(g){var f=e(g).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){f.parent().removeClass("open")})};a.prototype={constructor:a,toggle:function(j){var h=e(this),g,f;if(h.is(".disabled, :disabled")){return}g=d(h);f=g.hasClass("open");c();if(!f){g.toggleClass("open");h.focus()}return false},keydown:function(k){var j,l,h,g,f;if(!/(38|40|27)/.test(k.keyCode)){return}j=e(this);k.preventDefault();k.stopPropagation();if(j.is(".disabled, :disabled")){return}h=d(j);g=h.hasClass("open");if(!g||(g&&k.keyCode==27)){return j.click()}l=e("[role=menu] li:not(.divider) a",h);if(!l.length){return}f=l.index(l.filter(":focus"));if(k.keyCode==38&&f>0){f--}if(k.keyCode==40&&f<l.length-1){f++}if(!~f){f=0}l.eq(f).focus()}};function c(){d(e(b)).removeClass("open")}function d(h){var f=h.attr("data-target"),g;if(!f){f=h.attr("href");f=f&&/#/.test(f)&&f.replace(/.*(?=#[^\s]*$)/,"")}g=e(f);g.length||(g=h.parent());return g}e.fn.dropdown=function(f){return this.each(function(){var h=e(this),g=h.data("dropdown");if(!g){h.data("dropdown",(g=new a(this)))}if(typeof f=="string"){g[f].call(h)}})};e.fn.dropdown.Constructor=a;e(function(){e("html").on("click.dropdown.data-api touchstart.dropdown.data-api",c);e("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(f){f.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",b,a.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",b+", [role=menu]",a.prototype.keydown)})}(window.jQuery);!function(a){var b=function(d,c){this.$element=a(d);this.options=a.extend({},a.fn.collapse.defaults,c);if(this.options.parent){this.$parent=a(this.options.parent)}this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var c=this.$element.hasClass("width");return c?"width":"height"},show:function(){var f,c,e,d;if(this.transitioning){return}f=this.dimension();c=a.camelCase(["scroll",f].join("-"));e=this.$parent&&this.$parent.find("> .accordion-group > .in");if(e&&e.length){d=e.data("collapse");if(d&&d.transitioning){return}e.collapse("hide");d||e.data("collapse",null)}this.$element[f](0);this.transition("addClass",a.Event("show"),"shown");a.support.transition&&this.$element[f](this.$element[0][c])},hide:function(){var c;if(this.transitioning){return}c=this.dimension();this.reset(this.$element[c]());this.transition("removeClass",a.Event("hide"),"hidden");this.$element[c](0)},reset:function(c){var d=this.dimension();this.$element.removeClass("collapse")[d](c||"auto")[0].offsetWidth;this.$element[c!==null?"addClass":"removeClass"]("collapse");return this},transition:function(g,d,e){var f=this,c=function(){if(d.type=="show"){f.reset()}f.transitioning=0;f.$element.trigger(e)};this.$element.trigger(d);if(d.isDefaultPrevented()){return}this.transitioning=1;this.$element[g]("in");a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,c):c()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};a.fn.collapse=function(c){return this.each(function(){var f=a(this),e=f.data("collapse"),d=typeof c=="object"&&c;if(!e){f.data("collapse",(e=new b(this,d)))}if(typeof c=="string"){e[c]()}})};a.fn.collapse.defaults={toggle:true};a.fn.collapse.Constructor=b;a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(h){var g=a(this),c,f=g.attr("data-target")||h.preventDefault()||(c=g.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),d=a(f).data("collapse")?"toggle":g.data();g[a(f).hasClass("in")?"addClass":"removeClass"]("collapsed");a(f).collapse(d)})})}(window.jQuery);!function(a){a(function(){a.support.transition=(function(){var b=(function(){var e=document.createElement("bootstrap"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in d){if(e.style[c]!==undefined){return d[c]}}}());return b&&{end:b}})()})}(window.jQuery);